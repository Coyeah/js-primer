# 关于JS的学习知识

## oop-restaurant

学习JavaScript面向对象编程。

### 单例模式

单例就是保证一个类只有一个实例。

实现方法一般是先判断实例存在与否，如果存在直接返回，如果不存在就创建了再返回，这就确保了一个类只有一个实例对象。

在JavaScript里，单例作为一个命名空间提供者，从全局命名空间里提供一个唯一的访问点来访问该对象。

模式作用：

* 模块间通信
* 系统中某个类的对象只能存在一个
* 保护自己的属性和方法

注意事项：

* 注意this的使用
* 闭包容易造成内存泄露，不需要的要赶快干掉
* 注意new的成本。（继承）

单例常用场景:

只需要生成一个唯一对象的时候，比如说页面登录框，只可能有一个登录框，那么你就可以用单例的思想去实现他，当然你不用单例的思想实现也行，那带来的结果可能就是你每次要显示登陆框的时候都要重新生成一个登陆框并显示（耗费性能），或者是不小心显示出了两个登录框（等着吃经理的40米长刀吧）。

### 工厂模式

工厂模式创建对象（视为工厂里的产品）时无需指定创建对象的具体类。

工厂模式定义一个用于创建对象的接口，这个接口由子类决定实例化哪一个类。该模式使一个类的实例化延迟到了子类。而子类可以重写接口方法以便创建的时候指定自己的对象类型。

目的:

在于判断接口最终用哪个类实例化（故与接口密不可分）。

最终效果：

多态，和类与类之间的松耦合。

* 简单工厂模式

一个专门生产某个产品的类，通过不同Type进行区分不同的品牌；

![图解](https://github.com/Coyeah/js-primer/blob/master/resource/factory-1.jpg)

* 工厂模式

工厂模式把类变成父类，不同品牌通过继承实现，生产产品通过接口；

![图解](https://github.com/Coyeah/js-primer/blob/master/resource/factory-2.jpg)

* 抽象工厂模式

抽象工厂模式则是全面化了工厂模式，一样的父类一样的继承一样的接口，可以让不同的品牌生产不同的产品；

![图解](https://github.com/Coyeah/js-primer/blob/master/resource/factory-3-1.jpg)

如果要新添一个工厂；

![图解](https://github.com/Coyeah/js-primer/blob/master/resource/factory-3-2.jpg)

如果要新添一个产品；

![图解](https://github.com/Coyeah/js-primer/blob/master/resource/factory-3-3.jpg)